local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local TargetWalkSpeed = 16 -- القيمة الافتراضية

local Window = Rayfield:CreateWindow({
    Name = "Ink Hub",
    Icon = 0,
    LoadingTitle = "Cooking. . .",
    LoadingSubtitle = "by Anonymous",
    ShowText = "Ink Hub",
    Theme = "Dark Blue",

    ToggleUIKeybind = Enum.KeyCode.K, -- ← تصحيح هنا

    DisableRayfieldPrompts = false,
    DisableBuildWarnings = false,

    ConfigurationSaving = {
        Enabled = true,
        FolderName = nil,
        FileName = "Big Hub"
    },

    Discord = {
        Enabled = false,
        Invite = "noinvitelink",
        RememberJoins = true
    },

    KeySystem = false,
    KeySettings = {
        Title = "Untitled",
        Subtitle = "Key System",
        Note = "No method of obtaining the key is provided",
        FileName = "Key",
        SaveKey = true,
        GrabKeyFromSite = false,
        Key = {"Hello"}
    }
})

local PlayerTab = Window:CreateTab("Player Settings", 85135135911975)

local EspTab = Window:CreateTab("Esp Tab", 4483362458)

local Slider = PlayerTab:CreateSlider({
    Name = "WalkSpeed",
    Range = {16, 100},
    Increment = 1,
    Suffix = "Speed",
    CurrentValue = 16,
    Flag = "Slider1",
    Callback = function(Value)
        TargetWalkSpeed = Value
    end,
})

-- تحديث WalkSpeed كل فريم لضمان استقراره ضد التغيير من اللعبة
RunService.RenderStepped:Connect(function()
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("Humanoid") then
        local humanoid = char.Humanoid
        if humanoid.WalkSpeed ~= TargetWalkSpeed then
            humanoid.WalkSpeed = TargetWalkSpeed
        end
    end
end)

local highlightInstance = nil -- نحتفظ بالمرجع هنا

local Toggle = EspTab:CreateToggle({
    Name = "Esp Part",
    CurrentValue = false,
    Flag = "Toggle1",
    Callback = function(Value)
        local parttarget = workspace:WaitForChild("esptarget")

        if Value then
            -- تفعيل: أنشئ Highlight جديد
            highlightInstance = Instance.new("Highlight")
            highlightInstance.OutlineTransparency = 1
            highlightInstance.FillColor = Color3.new(1, 0, 0)
            highlightInstance.Parent = parttarget
        else
            -- إيقاف: احذف Highlight إذا كان موجود
            if highlightInstance then
                highlightInstance:Destroy()
                highlightInstance = nil
            end
        end
    end,
})
